/*! CollectionPresenter 03-12-2014*/
angular.module("CollectionPresenter.Settings",[]).constant("settings",{baseServiceUrl:"http://localhost/test",apiKey:""}),angular.module("CollectionPresenter",["ngRoute","CollectionPresenter.ApiClient","CollectionPresenter.Main","CollectionPresenter.Item","CollectionPresenter.List"]).controller("collectionsController",function(a,b){a.appName="Collection",a.collections||b.get({$expand:"categories"},function(b){a.collections=b.value})}).directive("titleBar",function(){return{templateUrl:"templates/titleBarTemplate.html",restrict:"E",controller:"collectionsController"}}).directive("categoriesSidebar",function(){return{templateUrl:"templates/categoriesSidebarTemplate.html",restrict:"E",controller:"collectionsController"}}).directive("itemPresenter",function(){return{templateUrl:"templates/itemTemplate.html",restrict:"E",scope:{item:"="}}}).directive("itemList",function(){return{templateUrl:"templates/itemsListTemplate.html",restrict:"E"}}),angular.module("CollectionPresenter.ApiClient",["ngResource","CollectionPresenter.Settings"]).factory("collections",function(a,b){var c=b.baseServiceUrl+"/odata/Collections(:id)";return a(c,{},{getCategories:{method:"GET",url:c+"/categories"},getItems:{method:"GET",url:c+"/items"}})}).factory("categories",function(a,b){var c=b.baseServiceUrl+"/odata/Categories(:id)";return a(c,{},{getItems:{method:"GET",url:c+"/items"}})}).factory("items",function(a,b){var c=b.baseServiceUrl+"/odata/Items(:id)";return a(c)}),angular.module("CollectionPresenter.Main",["ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/Main.html",controller:"MainController"})}]).controller("MainController",function(a,b){b.query(function(b){a.collections=b.collections})}),angular.module("CollectionPresenter.Item",["ngRoute"]).config(["$routeProvider",function(a){a.when("/item/:id",{templateUrl:"views/item.html",controller:"ItemController"}).otherwise({redirectTo:"/"})}]).controller("ItemController",function(a,b,c){c.get({id:b.id},function(b){a.item=b.value})}),angular.module("CollectionPresenter.List",["ngRoute"]).config(["$routeProvider",function(a){a.when("/category/:id",{templateUrl:"views/list.html",controller:"CategoryController"}).when("/collection/:id",{templateUrl:"views/list.html",controller:"CollectionController"}).otherwise({redirectTo:"/"})}]).controller("CategoryController",function(a,b,c){a.title="Category",c.getItems({id:b.id},function(b){a.items=b.value})}).controller("CollectionController",function(a,b,c,d){var e=null;a.title="Collection",c.getItems({id:b.id},function(b){a.items=b.value}),a.selectItem=function(b){d.get({id:b.id,$expand:"description,characteristics"},function(c){a.selectedItem=c,e&&(e.selected=!1),b.selected=!0,e=b})}});